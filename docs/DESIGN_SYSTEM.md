# Дизайн-система сайта (единый стиль)

**Цель:** один источник правды для цветов, отступов, типографики и компонентов. Все экраны и компоненты должны опираться на эти правила.

---

## 1. Источники токенов (единственный источник)

| Что | Файл | Подключение |
|-----|------|-------------|
| **Цвета, отступы, типографика, радиусы, тени, переходы** | `src/styles/sports-colors.css` | `index.css` → первый импорт |
| Тёмная тема (переопределение переменных) | внутри `sports-colors.css` (`[data-theme="dark"]`) | — |
| Доп. стили компонентов в тёмной теме | `src/styles/dark-mode.css` | `index.css` |
| Кнопки (базовые) | `src/styles/buttons.css` | `index.css` |
| Карточки (базовые) | `src/styles/cards.css` | `index.css` |
| Анимации | `src/styles/animations.css` | `index.css` |

**Не использовать:** `variables.css` не подключён глобально и считается устаревшим; дублирование токенов в `calendar_v2.css` удалено — все токены берутся из `sports-colors.css`.

---

## 2. Цвета

- **Основной акцент:** `--primary-500` (Strava orange), градиент `--gradient-primary`.
- **Фоны:** `--bg-primary`, `--bg-secondary`, `--bg-tertiary`.
- **Текст:** `--text-primary`, `--text-secondary`, `--text-tertiary`.
- **Карточки:** `--card-bg`, `--card-border`.
- **Семантика:** `--success-*`, `--danger-*`, `--warning-*`, `--info-*`; нейтрали `--gray-50` … `--gray-900`.

В стилях **не использовать** жёстко заданные hex/rgb, кроме случаев, где нужна полупрозрачность (например `rgba(252, 76, 2, 0.2)`). Предпочтительно: `var(--primary-500)`, `var(--gray-200)` и т.д.

---

## 3. Отступы и размеры

- **Система отступов (база 8px):** `--space-1` (4px) … `--space-16` (64px). Использовать везде вместо «магических» `12px`, `20px`, `24px`:
  - 4px → `var(--space-1)`
  - 8px → `var(--space-2)`
  - 12px → `var(--space-3)`
  - 16px → `var(--space-4)`
  - 20px → `var(--space-5)`
  - 24px → `var(--space-6)`
  - 32px → `var(--space-8)`
  - 40px → `var(--space-10)`

- **Радиусы:** `--radius-sm` … `--radius-2xl`, `--radius-full`. Не задавать вручную `border-radius: 16px` — использовать `var(--radius-xl)` и т.д.

---

## 4. Типографика

- **Шрифт:** Montserrat (подключён в `index.css`).
- **Размеры:** `--text-xs` … `--text-5xl`.
- **Начертания:** `--font-light` … `--font-extrabold`.

Заголовки и текст должны использовать переменные размера и веса, цвет — `var(--text-primary)` / `var(--text-secondary)`.

---

## 5. Кнопки

- **Базовые классы (глобальные):** `.btn`, `.btn-primary`, `.btn-secondary` — определены в `src/styles/buttons.css`.
- **Модификаторы:** `.btn--sm`, `.btn--lg`, `.btn--block`.
- В новых компонентах и формах использовать именно эти классы. Специализированные кнопки (`.btn-dashboard`, `.btn-workout`, лендинг и т.д.) могут добавлять только контекстные отличия (размер, иконка), не переопределяя базовый вид полностью.

---

## 6. Карточки

- **Базовый класс:** `.card` из `src/styles/cards.css`.
- **Модификаторы:** `.card--compact`, `.card--interactive`.
- Новые блоки-карточки рекомендуется строить как `.card` или `.card card--compact`; при необходимости добавлять свой BEM-модификатор (например `.card--workout` в WorkoutCard).

---

## 7. Контейнеры страниц

- **Паттерн:** контентная область с `max-width: 1400px`, `margin: 0 auto`, горизонтальный `padding: var(--space-6) var(--space-5)` (или единый `var(--page-padding)` при введении такой переменной), снизу `padding-bottom` под нижнюю навигацию (например `var(--space-24)` или 80–100px).
- Экраны: Dashboard (`.dashboard`), Stats (`.stats-screen`), Calendar (`.content` внутри контейнера) должны использовать одинаковые значения отступов из токенов, чтобы визуально быть в одном стиле.

---

## 8. Модальные окна

- **Общие модалки приложения:** классы `.app-modal`, `.app-modal-content`, `.app-modal-header`, `.app-modal-body` (Modal.css) — фон, отступы, скролл через переменные (`var(--card-bg)`, `var(--space-6)` и т.д.).
- **Формы в модалках:** `.form-group`, `.form-actions` — в Modal.css; кнопки — `.btn`, `.btn-primary`, `.btn-secondary` из buttons.css.
- Календарные модалки (DayModal, ResultModal и т.д.) могут использовать свои классы (например `modal-modern-*`), но цвета и отступы — из токенов.

---

## 9. Тёмная тема

- Переключение: атрибут `data-theme="dark"` на корне (например `document.documentElement.setAttribute('data-theme', 'dark')`).
- Все цвета задаются через переменные; в `sports-colors.css` для `[data-theme="dark"]` переопределены `--bg-primary`, `--text-primary`, `--card-bg`, `--primary-*` и т.д.
- В `dark-mode.css` — дополнительные переопределения для конкретных компонентов (workout-card, bottom-nav, stats-tab и т.д.). Новые компоненты должны изначально опираться на семантические переменные (`--bg-primary`, `--text-primary`), тогда тёмная тема заработает без правок.

---

## 10. Правила для новых и изменяемых стилей

1. **Цвета** — только переменные из `sports-colors.css`.
2. **Отступы и радиусы** — `var(--space-*)`, `var(--radius-*)`.
3. **Типографика** — `var(--text-*)`, `var(--font-*)`.
4. **Кнопки** — по умолчанию `.btn` + `.btn-primary` / `.btn-secondary`; при необходимости только модификаторы размера или контекста.
5. **Карточки** — по возможности базовый `.card` + модификаторы.
6. **Не дублировать** определения токенов в других файлах (в т.ч. в calendar_v2.css, в компонентных CSS).
7. При рефакторинге существующих экранов — постепенно заменять жёсткие `px` на переменные и унифицировать отступы контейнеров.

---

## 11. Ссылки

- **Подробный разбор кнопок и карточек:** `docs/CSS_STYLE_ANALYSIS.md`.
- **Токены и тёмная тема:** `src/styles/sports-colors.css`.
