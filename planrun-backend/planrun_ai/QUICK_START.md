# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: PlanRun AI

## ‚úÖ –ß—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

- ‚úÖ PlanRun AI —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è LLM (Qwen3 14B) —Å RAG
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –≤ `planrun_ai/`
- ‚úÖ –í—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è DeepSeek —É–¥–∞–ª–µ–Ω—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
planrun-backend/planrun_ai/
‚îú‚îÄ‚îÄ planrun_ai_config.php          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ planrun_ai_integration.php     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (callAIAPI)
‚îú‚îÄ‚îÄ prompt_builder.php             # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ plan_generator.php             # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–ª–∞–Ω–æ–≤
‚îú‚îÄ‚îÄ generate_plan_async.php        # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ plan_saver.php                 # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
‚îú‚îÄ‚îÄ create_empty_plan.php          # –ü—É—Å—Ç–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
‚îî‚îÄ‚îÄ text_generator.php             # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**planrun_ai_config.php:**
```php
PLANRUN_AI_API_URL = 'http://localhost:8000/api/v1/generate-plan'
PLANRUN_AI_TIMEOUT = 300
USE_PLANRUN_AI = true
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–ª—è —Ä–µ–∂–∏–º–∞ 'ai' –∏–ª–∏ 'both' —á–µ—Ä–µ–∑ `register_api.php`

### –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

```php
require_once __DIR__ . '/planrun_ai/plan_generator.php';
$planData = generatePlanViaPlanRunAI($userId);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

```php
require_once __DIR__ . '/planrun_ai/planrun_ai_config.php';
if (isPlanRunAIAvailable()) {
    // PlanRun AI –¥–æ—Å—Ç—É–ø–Ω–∞
}
```

## üìä –ü—Ä–æ—Ü–µ—Å—Å

1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —á–µ—Ä–µ–∑ `prompt_builder.php`
3. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ PlanRun AI API (–ø–æ—Ä—Ç 8000)
4. RAG –Ω–∞—Ö–æ–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ Qdrant
5. Qwen3 14B –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–ª–∞–Ω
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —á–µ—Ä–µ–∑ `plan_saver.php`

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PlanRun AI –≤–º–µ—Å—Ç–æ DeepSeek.
