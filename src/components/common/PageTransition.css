/**
 * Стили для плавных переходов между страницами.
 * .page-transition — статичная обёртка (не перемонтируется).
 * .page-transition-content — только контент страницы, анимация при смене маршрута.
 */

.page-transition {
  width: 100%;
  min-height: 100%;
}

/* Анимация только для области контента (Дашборд / Календарь / Статистика) */
.page-transition-content {
  animation: contentFadeIn 0.2s ease-out;
  width: 100%;
  min-height: 100%;
}

/* Мобильное приложение: отступы под хедер и под нижний навбар */
@media (max-width: 1023px) {
  .page-transition-content {
    padding-top: calc(64px + env(safe-area-inset-top, 0px) + 12px);
    padding-bottom: var(--mobile-content-padding-bottom, 100px);
    min-height: 100vh;
    box-sizing: border-box;
  }

  /* Чат: строго между хедером и навбаром — margin-top под хедер, height = оставшееся место */
  .page-transition-content--chat {
    margin-top: var(--mobile-header-height);
    padding-top: 0;
    padding-bottom: 0;
    height: calc(100vh - var(--mobile-header-height) - var(--mobile-content-padding-bottom));
    min-height: 0;
    max-height: calc(100vh - var(--mobile-header-height) - var(--mobile-content-padding-bottom));
    display: flex;
    flex-direction: column;
    overflow: hidden;
    box-sizing: border-box;
  }
  @supports (height: 100dvh) {
    .page-transition-content--chat {
      height: calc(100dvh - var(--mobile-header-height) - var(--mobile-content-padding-bottom));
      max-height: calc(100dvh - var(--mobile-header-height) - var(--mobile-content-padding-bottom));
    }
  }
  .page-transition-content--chat .app-tabs-content {
    flex: 1 1 0;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }
  .page-transition-content--chat .app-tab-pane--chat {
    flex: 1 1 0;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }
}

@keyframes contentFadeIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .page-transition-content {
    animation: none;
  }
}

/* Вкладки: все панели смонтированы, неактивные скрыты */
.app-tabs-content {
  width: 100%;
  min-height: 100%;
  position: relative;
}

.app-tab-pane {
  display: none;
  width: 100%;
  min-height: 100%;
}

.app-tab-pane.app-tab-pane--active {
  display: block;
}
